<div class="container py-4" dir="rtl">
    <h3 class="mb-4 text-center">طلباتي</h3>
  
    <!-- ✅ Tabs -->
    <ul class="nav nav-pills justify-content-center mb-4">
      <li class="nav-item">
        <button class="nav-link" [class.active]="selectedTab === 'all'" (click)="setTab('all')">الكل</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="selectedTab === 'inProgress'" (click)="setTab('inProgress')">قيد التنفيذ</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="selectedTab === 'completed'" (click)="setTab('completed')">المكتملة</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="selectedTab === 'cancelled'" (click)="setTab('cancelled')">الملغية</button>
      </li>
    </ul>
  
    <!-- ✅ قائمة الطلبات -->
    <div *ngIf="filteredRequests.length === 0" class="alert alert-info text-center">
      لا توجد طلبات ضمن هذا التصنيف.
    </div>
  
    <div class="row g-3">
      <div class="col-12" *ngFor="let req of filteredRequests">
        <div class="card rounded-4 shadow-sm p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h5>{{ req.title }}</h5>
              <p class="mb-1 text-muted">تاريخ الطلب: {{ req.createdAt | date:'yyyy/MM/dd' }}</p>
              <p *ngIf="req.providerName" class="mb-1">مقدم الخدمة: {{ req.providerName }}</p>
              <p *ngIf="req.price" class="mb-1">السعر: {{ req.price | currency:'EGP' }}</p>
            </div>
            <div class="text-end">
              <span class="badge px-3 py-2" [ngClass]="getStatusClass(req.status)">
                {{ getStatusLabel(req.status) }}
              </span>
              <br />
              <a [routerLink]="['/request-details', req.id]" class="btn btn-sm btn-outline-primary mt-2">عرض التفاصيل</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  